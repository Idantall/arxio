(()=>{var e={};e.id=548,e.ids=[548],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6113:e=>{"use strict";e.exports=require("crypto")},1278:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(2500),a=t(4977),n=t(5579),o=t.n(n),i=t(6665),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d=["",{children:["dashboard",{children:["new-project",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8077)),"D:\\Arxio\\arxio\\apps\\web\\app\\dashboard\\new-project\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2245)),"D:\\Arxio\\arxio\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9014,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Arxio\\arxio\\apps\\web\\app\\dashboard\\new-project\\page.tsx"],p="/dashboard/new-project/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/new-project/page",pathname:"/dashboard/new-project",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3249:(e,r,t)=>{Promise.resolve().then(t.bind(t,9627))},9627:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ProjectForm:()=>j});var s,a,n,o=t(7186),i=t(5912),l=t(9109),d=t(9062),c=t(686),p=t(8330),m=((s=m||{}).SAST="SAST",s.DAST="DAST",s),u=((a=u||{}).QUEUED="QUEUED",a.RUNNING="RUNNING",a.SUCCESS="SUCCESS",a.ERROR="ERROR",a),x=((n=x||{}).CRITICAL="CRITICAL",n.HIGH="HIGH",n.MEDIUM="MEDIUM",n.LOW="LOW",n.INFO="INFO",n);p.z.object({email:p.z.string().email({message:"כתובת אימייל לא תקינה"}),password:p.z.string().min(8,{message:"סיסמה חייבת להיות באורך 8 תווים לפחות"}).max(100).regex(/[A-Z]/,{message:"סיסמה חייבת לכלול אות גדולה"}).regex(/[a-z]/,{message:"סיסמה חייבת לכלול אות קטנה"}).regex(/[0-9]/,{message:"סיסמה חייבת לכלול ספרה"})}).extend({name:p.z.string().min(2,{message:"שם חייב להיות באורך 2 תווים לפחות"})});var g=p.z.object({id:p.z.string().optional(),repoProvider:p.z.enum(["github","gitlab","bitbucket"]),repoOwner:p.z.string().min(1,{message:"שם הבעלים נדרש"}),repoName:p.z.string().min(1,{message:"שם המאגר נדרש"}),defaultBranch:p.z.string().default("main"),deployedUrl:p.z.string().url({message:"כתובת URL לא תקינה"}).optional()});p.z.object({projectId:p.z.string(),scanType:p.z.nativeEnum(m)}),p.z.object({id:p.z.string().optional(),scanId:p.z.string().optional(),severity:p.z.nativeEnum(x),ruleId:p.z.string(),title:p.z.string(),description:p.z.string(),filePath:p.z.string().optional(),lineStart:p.z.number().optional(),lineEnd:p.z.number().optional(),url:p.z.string().optional(),resolved:p.z.boolean().default(!1)});var h=t(8839),b=t(84);function j(){let e=(0,l.useRouter)(),[r,t]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),{register:n,handleSubmit:p,formState:{errors:m}}=(0,d.cI)({resolver:(0,c.F)(g),defaultValues:{repoProvider:"github",repoOwner:"",repoName:"",defaultBranch:"main",deployedUrl:""}});async function u(r){t(!0),a(null);try{let t=await (0,b.$L)(r);e.push(`/project/${t.id}`)}catch(e){console.error("Failed to create project:",e),a("Failed to create project. Please try again.")}finally{t(!1)}}return o.jsx(h.Zb,{children:o.jsx(h.aY,{className:"pt-6",children:(0,o.jsxs)("form",{onSubmit:p(u),className:"space-y-6",children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[o.jsx("label",{htmlFor:"repoProvider",className:"block text-sm font-medium mb-1",children:"Repository Provider"}),(0,o.jsxs)("select",{id:"repoProvider",className:"w-full p-2 border rounded-md",...n("repoProvider"),children:[o.jsx("option",{value:"github",children:"GitHub"}),o.jsx("option",{value:"gitlab",children:"GitLab"}),o.jsx("option",{value:"bitbucket",children:"Bitbucket"})]}),m.repoProvider&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.repoProvider.message?.toString()})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{htmlFor:"repoOwner",className:"block text-sm font-medium mb-1",children:"Repository Owner / Organization"}),o.jsx("input",{id:"repoOwner",className:"w-full p-2 border rounded-md",placeholder:"e.g., 'facebook'",...n("repoOwner")}),m.repoOwner&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.repoOwner.message?.toString()})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{htmlFor:"repoName",className:"block text-sm font-medium mb-1",children:"Repository Name"}),o.jsx("input",{id:"repoName",className:"w-full p-2 border rounded-md",placeholder:"e.g., 'react'",...n("repoName")}),m.repoName&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.repoName.message?.toString()})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{htmlFor:"defaultBranch",className:"block text-sm font-medium mb-1",children:"Default Branch"}),o.jsx("input",{id:"defaultBranch",className:"w-full p-2 border rounded-md",placeholder:"e.g., 'main' or 'master'",...n("defaultBranch")}),m.defaultBranch&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.defaultBranch.message?.toString()})]}),(0,o.jsxs)("div",{children:[o.jsx("label",{htmlFor:"deployedUrl",className:"block text-sm font-medium mb-1",children:"Deployed URL (optional)"}),o.jsx("input",{id:"deployedUrl",className:"w-full p-2 border rounded-md",placeholder:"https://your-app.example.com",...n("deployedUrl")}),o.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Required for DAST scans. Leave blank if you only want SAST."}),m.deployedUrl&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.deployedUrl.message?.toString()})]})]}),s&&o.jsx("p",{className:"text-sm text-red-500",children:s}),(0,o.jsxs)("div",{className:"flex justify-end",children:[o.jsx(h.zx,{type:"button",variant:"outline",onClick:()=>e.back(),className:"mr-2",children:"Cancel"}),o.jsx(h.zx,{type:"submit",disabled:r,children:r?"Creating...":"Create Project"})]})]})})})}},84:(e,r,t)=>{"use strict";t.d(r,{$L:()=>o,ZD:()=>n});let s=[{id:"1",repoProvider:"github",repoOwner:"arxio",repoName:"demo-project",defaultBranch:"main",deployedUrl:"https://demo.arxio.com",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),userId:"1"}],a={project:{findMany:async({where:e})=>e.userId?s.filter(r=>r.userId===e.userId):s,create:async({data:e})=>{let r={id:String(s.length+1),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...e};return s.push(r),r}}};async function n(){try{return await a.project.findMany({where:{userId:"1"}})}catch(e){return console.error("Error fetching projects:",e),[]}}async function o(e){try{return await a.project.create({data:{...e,userId:"1"}})}catch(e){throw console.error("Error creating project:",e),Error("Failed to create project")}}},8077:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m,metadata:()=>p});var s=t(3915),a=t(5999);let n=(0,a.createProxy)(String.raw`D:\Arxio\arxio\apps\web\app\dashboard\new-project\project-form.tsx`),{__esModule:o,$$typeof:i}=n;n.default;let l=(0,a.createProxy)(String.raw`D:\Arxio\arxio\apps\web\app\dashboard\new-project\project-form.tsx#ProjectForm`);var d=t(2021),c=t(5043);let p={title:"New Project - ARXIO",description:"Add a new project for security scanning"};async function m(){let e=await (0,c.I8)();return e?.user||(0,d.redirect)("/auth/login"),(0,s.jsxs)("div",{className:"container py-10",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Add New Project"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Connect a repository to start scanning for security vulnerabilities"})]}),s.jsx("div",{className:"max-w-2xl",children:s.jsx(l,{})})]})}},5043:(e,r,t)=>{"use strict";t.d(r,{I8:()=>b,handlers:()=>h});var s,a,n,o=t(9167),i=t(1692),l=t(6008),d=t(3997),c=((s=c||{}).SAST="SAST",s.DAST="DAST",s),p=((a=p||{}).QUEUED="QUEUED",a.RUNNING="RUNNING",a.SUCCESS="SUCCESS",a.ERROR="ERROR",a),m=((n=m||{}).CRITICAL="CRITICAL",n.HIGH="HIGH",n.MEDIUM="MEDIUM",n.LOW="LOW",n.INFO="INFO",n),u=d.z.object({email:d.z.string().email({message:"כתובת אימייל לא תקינה"}),password:d.z.string().min(8,{message:"סיסמה חייבת להיות באורך 8 תווים לפחות"}).max(100).regex(/[A-Z]/,{message:"סיסמה חייבת לכלול אות גדולה"}).regex(/[a-z]/,{message:"סיסמה חייבת לכלול אות קטנה"}).regex(/[0-9]/,{message:"סיסמה חייבת לכלול ספרה"})});u.extend({name:d.z.string().min(2,{message:"שם חייב להיות באורך 2 תווים לפחות"})}),d.z.object({id:d.z.string().optional(),repoProvider:d.z.enum(["github","gitlab","bitbucket"]),repoOwner:d.z.string().min(1,{message:"שם הבעלים נדרש"}),repoName:d.z.string().min(1,{message:"שם המאגר נדרש"}),defaultBranch:d.z.string().default("main"),deployedUrl:d.z.string().url({message:"כתובת URL לא תקינה"}).optional()}),d.z.object({projectId:d.z.string(),scanType:d.z.nativeEnum(c)}),d.z.object({id:d.z.string().optional(),scanId:d.z.string().optional(),severity:d.z.nativeEnum(m),ruleId:d.z.string(),title:d.z.string(),description:d.z.string(),filePath:d.z.string().optional(),lineStart:d.z.number().optional(),lineEnd:d.z.number().optional(),url:d.z.string().optional(),resolved:d.z.boolean().default(!1)});let x=[{id:"1",name:"Demo User",email:"demo@example.com",image:null,passwordHash:"demo123"}],g={session:{strategy:"jwt"},pages:{signIn:"/auth/login",signOut:"/auth/logout",error:"/auth/error"},providers:[(0,l.Z)({clientId:process.env.GITHUB_CLIENT_ID||"",clientSecret:process.env.GITHUB_CLIENT_SECRET||""}),(0,i.Z)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){let r=u.safeParse(e);if(!r.success)return null;let{email:t,password:s}=r.data,a=x.find(e=>e.email===t);return a&&a.passwordHash&&(a.passwordHash===s||"demo123"===s)?{id:a.id,name:a.name,email:a.email,image:a.image}:null}})],callbacks:{session:async({session:e,token:r})=>(r.sub&&e.user&&(e.user.id=r.sub),e),jwt:async({token:e})=>e}},{handlers:h,auth:b,signIn:j,signOut:f}=(0,o.ZP)(g)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[554,116,416,109,21,38,829],()=>t(1278));module.exports=s})();